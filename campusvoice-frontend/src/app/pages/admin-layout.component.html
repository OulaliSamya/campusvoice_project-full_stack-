<!-- 
=============================================================================
FICHIER 1: src/app/pages/admin-layout.component.html
=============================================================================
-->

<div class="admin-layout">
  <!-- Bouton toggle (visible sur tous les écrans) -->
  <button class="sidebar-toggle" (click)="toggleSidebar()" [class.open]="isSidebarOpen">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </button>

  <!-- Overlay pour fermer la sidebar sur mobile -->
  <div 
    class="sidebar-overlay" 
    [class.active]="isSidebarOpen"
    (click)="closeSidebar()"
  ></div>

  <!-- Sidebar -->
  <aside class="sidebar" [class.open]="isSidebarOpen">
    <div class="logo-section">
      <div class="logo-icon">CV</div>
      <h2 class="sidebar-text">CampusVoice</h2>
      <p class="role-badge sidebar-text">Administrateur</p>
    </div>
    
    <nav class="nav-menu">
      <a 
        routerLink="dashboard" 
        routerLinkActive="active" 
        class="nav-item"
        (click)="onNavClick()"
      >
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7"></rect>
          <rect x="14" y="3" width="7" height="7"></rect>
          <rect x="14" y="14" width="7" height="7"></rect>
          <rect x="3" y="14" width="7" height="7"></rect>
        </svg>
        <span class="sidebar-text">Dashboard</span>
      </a>
      <a 
        routerLink="feedbacks" 
        routerLinkActive="active" 
        class="nav-item"
        (click)="onNavClick()"
      >
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        <span class="sidebar-text">Feedbacks</span>
      </a>
      <a 
        routerLink="courses" 
        routerLinkActive="active" 
        class="nav-item"
        (click)="onNavClick()"
      >
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
        </svg>
        <span class="sidebar-text">Cours</span>
      </a>
      <a 
        routerLink="users" 
        routerLinkActive="active" 
        class="nav-item"
        (click)="onNavClick()"
      >
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        <span class="sidebar-text">Utilisateurs</span>
      </a>
      <a 
        routerLink="settings" 
        routerLinkActive="active" 
        class="nav-item"
        (click)="onNavClick()"
      >
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3"></path>
        </svg>
        <span class="sidebar-text">Paramètres</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <button (click)="logout()" class="logout-btn">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        <span class="sidebar-text">Déconnexion</span>
      </button>
    </div>
  </aside>

  <!-- Contenu principal -->
  <main class="main-content" [class.sidebar-open]="isSidebarOpen">
    <router-outlet></router-outlet>
  </main>
</div>


<!--
=============================================================================
FICHIER 2: src/app/pages/admin-layout.component.ts
=============================================================================
Ajoutez ces méthodes au composant TypeScript
-->

<!--
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterOutlet, RouterLink, RouterLinkActive, Router } from '@angular/router';
import { AuthService } from '../services/auth.service';

@Component({
  selector: 'app-admin-layout',
  standalone: true,
  imports: [CommonModule, RouterOutlet, RouterLink, RouterLinkActive],
  templateUrl: './admin-layout.component.html',
  styleUrls: ['./admin-layout.component.scss']
})
export class AdminLayoutComponent {
  isSidebarOpen = true; // Ouvert par défaut sur desktop

  constructor(
    private authService: AuthService,
    private router: Router
  ) {
    // Fermer la sidebar par défaut sur mobile
    if (window.innerWidth <= 1024) {
      this.isSidebarOpen = false;
    }
  }

  toggleSidebar() {
    this.isSidebarOpen = !this.isSidebarOpen;
  }

  closeSidebar() {
    // Ferme seulement sur mobile/tablette
    if (window.innerWidth <= 1024) {
      this.isSidebarOpen = false;
    }
  }

  onNavClick() {
    // Ferme la sidebar après navigation sur mobile
    if (window.innerWidth <= 1024) {
      this.isSidebarOpen = false;
    }
  }

  logout() {
    this.authService.logout();
    this.router.navigate(['/login']);
  }
}
-->